@model Tykon.Web.Models.MultiplaSelecaoModel

@using Tykon.Web.Helpers
@using System.Web.Helpers

<link href="~/Content/amaretti/assets/lib/select2/css/select2.min.css" rel="stylesheet" />
<script src="~/Content/amaretti/assets/lib/select2/js/select2.min.js"></script>

<style>
    .chosen-container-multi .chosen-choices {
        padding: 0 5px;
        background-color: #fff;
        background-image: -webkit-gradient(linear,50% 0,50% 100%,color-stop(1%,#eee),color-stop(15%,#fff));
        background-image: -webkit-linear-gradient(#eee 1%,#fff 15%);
        background-image: -moz-linear-gradient(#eee 1%,#fff 15%);
        background-image: -o-linear-gradient(#eee 1%,#fff 15%);
        background-image: linear-gradient(#eee 1%,#fff 15%);
        cursor: text;
        border-color: white;
    }
</style>

<div class="form-group">


    @Html.FWLabel(x => x.TextoLabel, Model.Obrigatorio, Model.TextoLabel)

    @*<div id="@Model.IdentificadorContainer" style="padding-left:15px !important" class="@("input-group " + Model.BaseCss.ToString())">

            @Html.FWTextBox(x => x.ValorExibicao, Model.Obrigatorio, Model.NomePropriedade, Model.PlaceHolder, new { @readonly = "readonly" })

        </div>*@
    <div class="@Model.ClasseTamanho">
        @if (Model.Obrigatorio)
        {
            @Html.ListBox(Model.NomePropriedade, Model.DataSource, new { @multiple = "", @class = "tags", @id = Model.Identificador, style = "width:100%", Propriedade = Model.NomePropriedade, data_placeholder = Model.PlaceHolder, required = "required" });

        }
        else
        {
            @Html.ListBox(Model.NomePropriedade, Model.DataSource, new { @multiple="", @class = "tags", @id = Model.Identificador, style = "width:100%", Propriedade = Model.NomePropriedade, data_placeholder = Model.PlaceHolder });
        }

    </div>
</div>

<script type="text/javascript">

    $(document).ready(function () {
        @Model.IdentificadorNamespaceJavaScript = function() {

            var init = function()
            {
                $("#@Model.Identificador").chosen({no_results_text: "Nenhum registro encontrado!"});
            }

            var valoresSelecionados =  function()
            {
                return $("#@Model.Identificador").chosen().val();
            }

            init();

            return {
                init: init,
                valoresSelecionados: valoresSelecionados
            }

        }();
    });

    $(".chosen-choices").hide();

</script>
